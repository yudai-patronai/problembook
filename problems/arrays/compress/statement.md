---
id: 2983dcbb-69e7-460b-a998-861332ce1751
longname: Расплющить матрицу
languages: [cpp]
tags: [arrays]
checker: cmp_int_seq
time_limit: 1
real_time_limit: 1
source_header: header.cpp
source_footer: footer.cpp
max_vm_size: 64M
---

Вам дана разреженная матрица. Вам нужно убрать из нее все нули и сжать в одномерный массив:

Прототип требуемой функции: <pre>int * compress(int ** matrix, int n, int m);</pre>

### Аргументы
- matrix – указатель на динамический двухмерный массив;
- n – количество строк;
- m – количество столбцов.


### Возвращаемое значение

Указатель на одномерный массив.

Функция должна:
- выделить память в куче под одномерный массив;
- скопировать туда все ненулевые значения из матрицы (в обычном порядке, слева направо и сверху вниз, можете на всякий случай проверить по примерам);
- очистить память, выделенную под матрицу;
- вернуть указатель на одномерный массив.


**Внимание!** В каждой строке матрицы должно находиться ровно три ненулевых значения. Аккуратно это проверяйте. Если для какой-то строки условие не выполняется, очищайте всю память (матрицу и одномерный массив) и возвращайте nullptr.

### Инфраструктура (код, который можно использовать при отладке)
<pre>
#include &lt;iostream&gt;
using std::cout;
using std::cin;
using std::endl;

int* compress(int** matrix, int n, int m);
// Здесь ваша реализация функции. 

int main()
{
    int n, m;
    cin &gt;&gt; n &gt;&gt; m;
    int** a = new int*[n];
    for (int i = 0; i &lt; n; i++)
        a[i] = new int[m];

    for (int i = 0; i &lt; n; i++)
        for (int j = 0; j &lt; m; j++)
            cin &gt;&gt; a[i][j];

    int* compressed = compress(a, n, m);

    if (!compressed) return 0;

    for (int i = 0; i &lt; n * 3; i++)
        cout &lt;&lt; compressed[i] &lt;&lt; " ";
    cout &lt;&lt; endl;

    delete[] compressed;
    return 0;
}
</pre>

**Еще раз внимание!** Сдавать нужно реализацию функции compress. Функцию main сдавать не нужно. Выводить что-либо на экран не нужно.


### Примеры

```
-> 4 5
-> 0 1 2 3 0
-> 0 0 1 1 1
-> 3 2 1 0 0
-> 0 0 6 6 6
--
<- 1 2 3 1 1 1 3 2 1 6 6 6
```

```
-> 2 5
-> 1 1 1 1 0
-> 1 1 1 0 0
--
<- (вывода нет)
```

```
-> 7 7
-> 0 0 0 0 1 1 1
-> 2 2 2 0 0 0 0
-> 0 3 0 3 0 3 0
-> 0 0 0 0 4 4 4
-> 0 5 5 0 0 5 0
-> 0 0 0 0 6 6 6
-> 7 0 7 0 0 7 0
--
<- 1 1 1 2 2 2 3 3 3 4 4 4 5 5 5 6 6 6 7 7 7
```
