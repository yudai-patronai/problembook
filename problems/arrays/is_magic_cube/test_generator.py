from lib.testgen import TestSet


def arr2d_to_str(arr):
    s = ""
    for row in arr:
        s += " ".join(row) + '\n'
    return s

def question(arr):
    s = str(len(arr)) + '\n'
    s += arr2d_to_str(arr)
    return s


tests = TestSet()
tests.add(
    question(
        [['1', '1'],
         ['1', '1']]
    ),
    'YES\n'
)
tests.add(
    question(
        [['4', '3', '8'],
         ['3', '8', '4'],
         ['8', '4', '3']]
    ),
    'NO\n'
)
tests.add(
    question(
        [['4', '9', '2'],
         ['3', '5', '7'],
         ['8', '1', '6']]
    ),
    'YES\n'
)
tests.add(
    question(
        [['7', '12', '1', '14'],
         ['2', '13', '8', '11'],
         ['16', '3', '10', '5'],
         ['9', '6', '15', '4']]
    ),
    'YES\n'
)
tests.add(
    question(
        [['100', '99', '93', '7', '5', '6', '4', '8', '92', '91'],
        ['11', '89', '88', '84', '16', '15', '17', '83', '82', '20'],
        ['30', '22', '78', '77', '75', '26', '74', '73', '29', '21'],
        ['61', '39', '33', '67', '66', '65', '64', '38', '32', '40'],
        ['60', '52', '48', '44', '56', '55', '47', '43', '49', '51'],
        ['50', '42', '53', '54', '46', '45', '57', '58', '59', '41'],
        ['31', '62', '63', '37', '36', '35', '34', '68', '69', '70'],
        ['71', '72', '28', '27', '25', '76', '24', '23', '79', '80'],
        ['81', '19', '18', '14', '85', '86', '87', '13', '12', '90'],
        ['10', '9', '3', '94', '95', '96', '97', '98', '2', '1']],
    ),
    'YES\n'
)
tests.add(
    question(
        [['0', '0', '0'],
         ['3', '5', '7'],
         ['8', '1', '6']]
    ),
    'NO\n'
)