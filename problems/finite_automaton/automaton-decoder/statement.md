---
id: 2ca1bbd0-02c6-475c-a029-0730e3319ab8
longname: Декодирующий автомат
languages: [cpp]
tags: [cpp,finite-automaton]
checker: cmp_file
time_limit: 1
real_time_limit: 1
max_vm_size: 64M
---

Алиселла Вульфенман и Роберт Вулпес решили засекретить генетические данные о новом ДНК-вирусе. Для этого при пересылке цепочек нуклеотидов они используют шифр на основе конечного автомата, который читает символ входящей строки и в зависимости от текущего состояния записывает символ в кодовую строку согласно кодовой таблице, затем переходит в следующее состояние. Например, <<Шифр Цезаря>> можно описать конечным автоматом с одним состоянием:
```
<1,A> -> 1 C
<1,C> -> 1 G
<1,G> -> 1 T
<1,T> -> 1 A
```
Этот автомат всегда остаётся в состоянии 1, но для каждого символа записывает его со смещением.
Если состояний будет больше, то шифр усложнится.
Например, для автомата с двумя состояниями:
```
<1,A> -> 2 C
<1,C> -> 2 G
<1,G> -> 2 T
<1,T> -> 2 A

<2,A> -> 1 G
<2,C> -> 1 A
<2,G> -> 1 C
<2,T> -> 1 T
```
цепочка ``TCGAG``, считая начальным состоянием 1, преобразуется в цепочку ``AATGT``, которая вовсе не содержит символа ``C``.

Шпекин, почмейстер сибирского города Н., не может мериться с тем, что теперь нельзя прочесть переписку Алиселлы и Роберта. Ему удалось выкрасть данные об автомате, которым учёные шифруют цепочки нуклеотидов. Помогите Ивану Кузьмичу, напишите программу, которая по введённым данным шифрующего автомата составит дешефрующий автомат и расшифрует тайные послания Роберта и Алиселлы. Известно, что состояние 1 всегда начальное при шифровании.

### Формат входных данных

На вход подаётся целое положительное число - количество состояний автомата шифрования.
За тем подаются четвёрки данных следующего вида:
```
<число1> <символ1> <число2> <символ2>
```
Где <число1> - состояние автомата и <символ1> - символ из строки данных, а <число2> - состояние, в которое переходит автомат из конфигурации <<число1>,<символ1>>. <символ2> - символ для записи в зашифрованные данные.

Всего на вход подаётся 4 * n четвёрок, где n - количество состояний автомата.

Гарантируется, что для каждого состояния будет указан переход для всех четырёх символов и для каждого состояния разные символы оригинальной строки переводятся в разные символы зашифрованной строки.

### Формат выходных данных

Расшифрованная строка, состоящая из символов ``A C G T``.

### Примеры

```
-> 1
-> 1 A 1 A
-> 1 C 1 C
-> 1 G 1 G
-> 1 T 1 T
-> GATTACA
--
<- GATTACA
```

```
-> 1
-> 1 A 1 C
-> 1 C 1 G
-> 1 G 1 T
-> 1 T 1 A
-> TCAACGC
--
<- GATTACA
```

```
-> 2
-> 1 A 2 C
-> 1 C 2 G
-> 1 G 2 T
-> 1 T 2 A
-> 2 A 1 T
-> 2 C 1 G
-> 2 G 1 C
-> 2 T 1 A
-> TTAACGC
--
<- GATTACA
```

```
-> 3
-> 1 A 2 C
-> 1 C 3 G
-> 1 G 2 T
-> 1 T 3 A
-> 2 A 1 T
-> 2 C 3 G
-> 2 G 1 C
-> 2 T 3 A
-> 3 A 2 C
-> 3 C 1 A
-> 3 G 2 T
-> 3 T 1 G
-> TTAGCGC
--
<- GATTACA
```
