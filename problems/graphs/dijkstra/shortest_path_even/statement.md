---
id: e1ccc378-c21d-4b9c-98e8-7a5a3c4c595b
longname: Путь минимального веса c четным количеством ребер
tags: [grphs,dijkstra]
time_limit: 1
real_time_limit: 1
max_vm_size: 64M
---


Дан неориентированный взвешенный связный граф и несколько пар его вершин. Для каждой введенной пары вершин выведите минимальный по весу путь содержащий четное количество ребер, или -1, если такого пути нет.

Нужно построить вспомогательный граф, вершинами которого будут
состояния (v,c), где v — номер текущей вершины, c = 0 или 1 — текущая
чётность количества ребер в пути. Любое ребро (u,v) исходного графа в
этом новом графе превратится в два ребра ((u,0),(v,1)) и ((u,1),(v,0)).
После этого на вспомогательном графе надо с помощью алгоритма Дейкстры
найти путь минимального веса из стартовой вершины с четностью 0 в конечную, с
чётностью, тоже равной 0.

### Формат входных данных

На вход программе в первой строке подается два числа (через пробел): `n`, `m`. Число `n` (2 <= `n` <= 1000) - число вершин в графе, `m` (1 <= `m` <= 20000) - число ребер. В следующих `m` строках задаются ребра, по три числа в каждой строке - номера(из интервалла от 0 до n-1) соединенных вершин и положительный вес ребра. Дальше на вход передается одно число k, за ним следуют k строк по два числа задающих пары, между которыми необходимо найти пути.

### Формат выходных данных

Для каждой заданной пары вершин выведите в отдельной строке путь между ними с четным числом ребер в виде списка вершин и -1 если такого пути нет.

### Примеры
```
-> 2 1
-> 1 0 87
-> 1
-> 0 1
--
<- -1
```

```
-> 8 9
-> 1 6 40
-> 7 6 41
-> 7 3 40
-> 5 0 46
-> 2 3 41
-> 1 2 17
-> 1 0 38
-> 4 2 40
-> 1 3 17
-> 1
-> 0 1
--
0 1 3 2 1
```
