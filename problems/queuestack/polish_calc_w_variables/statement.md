---
id: 02522df1-2a77-4818-b944-36bbd53a7ebd
longname: Калькулятор с переменными
languages: [python]
tags: [stack,strings]
checker: cmp_file
time_limit: 1
real_time_limit: 1
max_vm_size: 64M
---


В этой задаче необходимо создать калькулятор, работающий с целыми числами и поддерживающий переменные.

Калькулятор вычисляет выражение, записанное в обратной польской нотации.

Выражение включает

- операторы
- целые числа
- переменные
- один знак равенства (символ =) в конце
- символы пробела для разделения операторов, целых чисел, переменных и знака равенства между собой

Калькулятор поддерживает следующие бинарные операторы

- оператор сложения (символ \+)
- оператор вычитания (символ \-)
- оператор умножения (символ \*)
- оператор **целочисленного** деления (символ /)

Имя переменной может состоять из латинских строчных и заглавных букв (a-z, A-Z), десятичных цифр (0-9) и символа нижнего подчёркивания (\_).
При этом не допускается, чтобы имя переменной начиналось с цифры.

После выражения, содержащего N переменных (с корректными именами или нет), гарантированно следуют N строк в обратной польской записи следующего вида

    <имя переменной> <значение переменной> =

Подаваемое во входных данных выражение может быть некорректным.

Кроме того, в блоке с инициализацией переменных могут содержаться переменные, не встречающиеся в выражении.
Такая программа считается некорректной.

Калькулятор должен уметь распозновать некорректные программы.

### Формат входных данных

Первая строка -- выражение.
Затем блок со значениями переменных.
Этот блок является N строками (по строке на переменную) в формате, описанном выше.

### Формат выходных данных

Целое число -- результат вычисления выражения, если программа корректна.
Строка 'incorrect', если выражение или блок с переменными не корректен.

### Примеры

```
-> 2 x * 10 y 2 + * - =
-> y 1 =
-> x 1 =
--
<- -28
```

```
-> x x * y y * + =
-> x 3 =
-> y 4 =
--
<- 25
```

```
-> 2 3 / 2 =
--
<- incorrect
```

```
-> 2 x * 10 1y 2 + * - =
-> x 2 =
-> y 3 =
--
<- incorrect
```

```
-> 2 x * 10 y 2 + * - =
-> x 2 =
-> z 3 =
--
<- incorrect
```